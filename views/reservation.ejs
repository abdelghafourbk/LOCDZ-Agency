<%- include('header') -%>

<%if(reservation != null){%>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page"> Reservation N°: <%-reservation.resID%></li>
        </ol>
    </nav>

    <div class="row">
        <div class="col-12 col-md-4">
            <img src="/assets/<%- vehicule[0].carImage %>" class="img-fluid sticky-top" style="top:20px" alt="<%-vehicule[0].name%>" loading="lazy">
        </div>

        <div class="col-12 col-md-8">
            <div class="row">
                <div class="col-12"><h1>Reservation N°: <%-reservation.resID%></h1></div>
                <div class="col-12 mb-4">Vehicule matricule: <%-reservation.matricule%></div>
                <div class="col-12 mb-4"><i class="bi bi-tag"></i>Rental Rate: <%-vehicule[0].rentalRate%> DA/Day</div>
                <div class="col-12 mb-4">Duration: <%-reservation.Duration%> Days</div>
                <div class="col-12 mb-4">Starts In: <%-reservation.StartingDate%> </div>
                <div class="col-12 mb-4">Client First Name: <%-reservation.firstName%></div>
                <div class="col-12 mb-4">Client Last Name: <%-reservation.lastName%></div>
                <div class="col-12 mb-4">Driver Licence Number: <%-reservation.driverLicenceNumber%></div>
            </div>
            <a href="/reservation/<%=reservation._id%>/delete" class="btn btn-primary btn-dark btn-lg px-4 me-md-2" onclick="return confirm('Are u sure to delete this Reservation?');">Delete Reservation</a>
        </div>
       
       
    </div>

<%}else{%>
    <p>No Reservation Found</p>
    <%}%>
        
    <div class="px-4 py-5 my-5 text-center">
        <h1 class="display-5 fw-bold">Reservation</h1>
        <div class="col-lg-6 mx-auto">
            <p class="lead">You can Update Reservation here</p>
        </div>
    </div>
    
          
<div class="row justify-content-center">
    <% if(infoSubmitObj != ''){ %>
        <div class="col-8 alert alert-success" role="alert">
            <%= infoSubmitObj %>
        </div>
     <%}%>  
    <% if(infoErrorObj != ''){ %>
        <div class="col-8 alert alert-danger" role="alert">
            Reservation Updating Failed!!
        </div>
     <%}%> 
    <div class="col-8">
        <form action="/reservation/<%=reservation._id%>" enctype="multipart/form-data" method="post">
            <div class="row g-3">

                <div class="col-12 mb-4">
                    <label for="resID" class="form-label d-flex flex-row">Reservation ID</label>
                    <input type="text" name="resID" id="resID" class="form-control" value="<%-reservation.resID%>" > 
                </div>

                <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3 justify-content-center">
                    
                    <div class="input-box">
                        <span>Starting Date</span>
                        <input type="date" name="startingdate" value="<%-reservation.StartingDate%>" >
                    </div>
                    
                    <div class="col-12 mb-4">
                        <label for="duration" class="form-label d-flex flex-row">Duration</label>
                        <input type="text" name="duration" id="duration" class="form-control" value="<%-reservation.Duration%>" > 
                    </div>
                    
                </div>

                <div class="col-12 mb-4">
                    <label for="matricule" class="form-label d-flex flex-row">Car Matricule</label>
                    <input type="text" name="Matricule" id="carMatricule" class="form-control" value="<%-reservation.matricule%>" > 
                </div>

                <div class="col-12 mb-4">
                    <label for="clientFirstName" class="form-label d-flex flex-row">First Name</label>
                    <input type="text" name="clientFirstName" id="clientFirstName" class="form-control" value="<%-reservation.firstName%>" >
                </div>
               
                <div class="col-12 mb-4">
                    <label for="clientLastName" class="form-label d-flex flex-row">Last Name</label>
                    <input type="text" name="clientLastName" id="clientLastName" class="form-control" value="<%-reservation.lastName%>" >
                </div>
                
            
                <div class="col-12 mb-4">
                    <label for="driverLicenceNumber" class="form-label d-flex flex-row">Driver Licence Number</label>
                    <input type="text" name="driverLicenceNumber" id="driverLicenceNumber" class="form-control" value="<%-reservation.driverLicenceNumber%>" >
                </div>
                
                <div class="col-12 mb-4">
                    <label for="adress" class="form-label d-flex flex-row">Adress</label>
                    <input type="text" name="adress" id="adress" class="form-control" value="<%-reservation.adress%>" >
                </div>
               
                
                <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3 justify-content-center">

                    <div class="input-box">
                        <span>Date of Birth </span>
                        <input type="date" name="dateofbirth" value="<%-reservation.dateOfBirth%>" >
                    </div>

                    <div class="input-box">
                        <span>Place of Birth </span>
                        <input type="text" name="placeofbirth" value="<%-reservation.placeOfBirth%>" >
                    </div>

                </div>
                
                    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3 justify-content-center ">
    
                        <div class="col-12">
                             <button type="submit" class="btn btn-primary">Modify</button>
                        </div>
                    </div>
                    
                </div>
            </form>
        </div>
    </div>
<%- include('footer') -%>

